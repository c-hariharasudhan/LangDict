@page
@model ListModel
@{
    ViewData["Title"] = "Dictionary";
}

<div class="container">  
  <hr class="hr-text" data-content="Browse Dictionary">
  <div class="row text-center">
    <button type="button" class="btn btn-success btn-circle">*</button>
    @foreach (var item in Model.Options)
    {
        <button type="button" class="btn btn-primary btn-circle">@item</button>
    }
  </div>
  <form asp-page="./List" method="get">
  <input type="hidden" name = "SearchKey" value="@Model.SearchKey"></input>
  <p>Total count : @Model.Words.Count()</p>
  @foreach (var item in Model.Words)
  {
      <div class="list-group">
        <a href="#" class="list-group-item active">
          <h4 class="list-group-item-heading"> @(String.Format("{0} ({1})", item.English, item.Tamil))</h4>
          <b>@item.PartOfSpeech</b>
          <p class="list-group-item-text">@item.Meaning</p>
          <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#@(item.Id)">More Info</button>
          <div id="@(item.Id)" class="collapse row">
            <div class="col-sm-4">
              Toda : @item.Toda
            </div>
            <div class="col-sm-4">
              Irula : @item.Irula
            </div>
            <div class="col-sm-4">
              Pania : @item.Pania
            </div>
          </div>
        </a>
      </div>
  }
  </form>
</div>

@section Scripts{
  <script>
    $(document).ready(function() {
      $('.btn-circle').click(function(e) {
        e.preventDefault();
        $('input[name="SearchKey"]').val(e.target.innerText);
        $('form').submit();
      })
    })
  </script>
}